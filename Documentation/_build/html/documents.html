
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Documents module &#8212; DAOs 3.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Authentication module" href="authentication.html" />
    <link rel="prev" title="Blueprints" href="blueprints.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-documents">
<span id="documents-module"></span><h1>Documents module<a class="headerlink" href="#module-documents" title="Permalink to this headline">¶</a></h1>
<div class="section" id="documents-module-documents-py">
<h2>Documents Module: documents.py<a class="headerlink" href="#documents-module-documents-py" title="Permalink to this headline">¶</a></h2>
<p>Holds the endpoints that perform CRUD operations on the documents present in the database.
All operations performed on these endpoints must have a valid access token to proceed. Also, said entity retrieved
from the token must be authorized and not banned in order to perform operations.</p>
<dl class="function">
<dt id="documents.before_request">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">before_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#documents.before_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs needed request context verifications before executing the actual request. Actions performed:</p>
<ol class="arabic simple">
<li><p>Verify if a request method is ‘POST’ or ‘PUT’</p></li>
<li><p>If 1 is true, then if request body is empty or None, raise TellSpaceApiError</p></li>
</ol>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceApiError</dt><dd><p>exception class used to return custom error types and messages.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="data">
<dt id="documents.bp">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">bp</code><em class="property"> = &lt;flask.blueprints.Blueprint object&gt;</em><a class="headerlink" href="#documents.bp" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of a Flask “Blueprint” class to implement a custom endpoint groups.</p>
</dd></dl>

<dl class="function">
<dt id="documents.create_document">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">create_document</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#documents.create_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new document using the information from the request body.</p>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON object with the id of the newly created document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.create_document_section">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">create_document_section</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.create_document_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Append new document section using doc_id. Section is appended at the end of document with empty values.
Return the new section number.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message of the updated document id and the new number of sections.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_actors">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_actors</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_actors" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document actors using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_authors">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_authors</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_authors" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document authors using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_damage_types">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_damage_types</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_damage_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document damage_types using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_description">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_description</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document description using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message of the updated document with the new description.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceApiError</dt><dd><p>Exception Class for unexpected api errors.</p>
</dd>
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_incident_date">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_incident_date</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_incident_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document tags using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_infrastructure_types">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_infrastructure_types</code><span class="sig-paren">(</span><em class="sig-param">doc_id</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_infrastructure_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document infrastructure_types using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_locations">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_locations</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document locations using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_section">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_section</code><span class="sig-paren">(</span><em class="sig-param">doc_id</em>, <em class="sig-param">section_nbr</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document section with valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
<dt>section_nbr</dt><dd><p>the document section number to be updated</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message of the updated section and the document id.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_tags">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_tags</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document tags using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message containing the id of the updated document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_timeline">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_timeline</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_timeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document timeline using doc_id and valid request body values. Verifies if for all given timeline pairs
the start date is NOT larger than the end-date.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message of the updated document and its id.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.edit_document_title">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">edit_document_title</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.edit_document_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the document title using doc_id and valid request body values.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message of the updated document with the new title.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceApiError</dt><dd><p>Exception Class for unexpected api errors.</p>
</dd>
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.get_document_by_id">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">get_document_by_id</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.get_document_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the information from a specific document using the document id.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string to be searched for</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>Response</dt><dd><p>JSON object with all the information from a document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.get_documents">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">get_documents</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#documents.get_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of documents’ metadata belonging to a collaborator. The collaborator ID is extracted from the
access token.</p>
<blockquote>
<div><dl class="simple">
<dt>Response</dt><dd><p>JSON object with the list of documents belonging to the collaborator.</p>
</dd>
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.remove_document">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">remove_document</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.remove_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a document using the document id from the route parameters.
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object containing the id of the removed document.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="documents.remove_document_section">
<code class="sig-prename descclassname">documents.</code><code class="sig-name descname">remove_document_section</code><span class="sig-paren">(</span><em class="sig-param">doc_id: str</em>, <em class="sig-param">section_nbr: str</em><span class="sig-paren">)</span><a class="headerlink" href="#documents.remove_document_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a section from a document using doc_id and section number. Section number must be 1 &lt;= x &lt;= len(sections)
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>doc_id</dt><dd><p>the document id string</p>
</dd>
<dt>section_nbr</dt><dd><p>the document section number to be removed</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>ApiResult</dt><dd><p>JSON Object with message that show the removed section number, the document id and the number of
sections left.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>TellSpaceAuthError</dt><dd><p>Exception Class with authorization error message. Raised when the collaborator is banned or not
approved.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">DAOs</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modules.html">Database/DAOs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="blueprints.html">Blueprints</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Documents module</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html">Authentication module</a></li>
<li class="toctree-l2"><a class="reference internal" href="general.html">General module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configutils.html">Config &amp; Utils</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="blueprints.html">Blueprints</a><ul>
      <li>Previous: <a href="blueprints.html" title="previous chapter">Blueprints</a></li>
      <li>Next: <a href="authentication.html" title="next chapter">Authentication module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Fab5.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/documents.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>